# üßî BORODACH Franchise Bot

Telegram-–±–æ—Ç –¥–ª—è —Ñ—Ä–∞–Ω—á–∞–π–∑–∏ —Å–µ—Ç–∏ –±–∞—Ä–±–µ—Ä—à–æ–ø–æ–≤ BORODACH. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –≤ —É–ø—Ä–∞–≤–ª—è—é—â—É—é –∫–æ–º–ø–∞–Ω–∏—é —á–µ—Ä–µ–∑ Bitrix24.

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞](#–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-–±–æ—Ç–∞)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [–ó–∞–ø—É—Å–∫](#–∑–∞–ø—É—Å–∫)
- [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Bitrix24](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-bitrix24)
- [–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#—Å—Ü–µ–Ω–∞—Ä–∏–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-–¥–µ—Ç–∞–ª–∏)

---

## üéØ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –¶–µ–ª—å –±–æ—Ç–∞

–î–∞—Ç—å —Ñ—Ä–∞–Ω—á–∞–π–∑–∏ –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è:
- **–°–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á** –≤ —É–ø—Ä–∞–≤–ª—è—é—â—É—é –∫–æ–º–ø–∞–Ω–∏—é (–£–ö)
- **–ü—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–≤–æ–∏—Ö –∑–∞–¥–∞—á** –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
- **–û—Ç–º–µ–Ω—ã –∑–∞–¥–∞—á** –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

- **–§—Ä–∞–Ω—á–∞–π–∑–∏** ‚Äî –≤–ª–∞–¥–µ–ª—å—Ü—ã/—É–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Ñ–∏–ª–∏–∞–ª–æ–≤ BORODACH
- –û–¥–∏–Ω —Ç–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö —Ä–æ–ª–µ–π
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —Ñ–∏–ª–∏–∞–ª—É ‚Äî —Ç–µ–∫—Å—Ç–æ–≤–∞—è (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º —É–∫–∞–∑—ã–≤–∞–µ—Ç)

### –û—Ç–¥–µ–ª—ã –£–ö

–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–¥–∞—á –≤ —Ç—Ä–∏ –æ—Ç–¥–µ–ª–∞:

| –û—Ç–¥–µ–ª | –û–ø–∏—Å–∞–Ω–∏–µ | Emoji |
|-------|----------|-------|
| üöÄ –û—Ç–¥–µ–ª –†–∞–∑–≤–∏—Ç–∏—è | –í–æ–ø—Ä–æ—Å—ã —Ä–∞–∑–≤–∏—Ç–∏—è –±–∏–∑–Ω–µ—Å–∞, –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ | üöÄ |
| üì¢ –û—Ç–¥–µ–ª –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞ | –†–µ–∫–ª–∞–º–∞, –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã | üì¢ |
| üé® –î–∏–∑–∞–π–Ω | –î–∏–∑–∞–π–Ω –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ | üé® |

–ö–∞–∂–¥–æ–º—É –æ—Ç–¥–µ–ª—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –≤ Bitrix24.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

**–ü–æ–ª–Ω—ã–π flow:**
1. –í—ã–±–æ—Ä –æ—Ç–¥–µ–ª–∞ (–†–∞–∑–≤–∏—Ç–∏–µ / –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ / –î–∏–∑–∞–π–Ω)
2. –í–≤–æ–¥ —Ñ–∏–ª–∏–∞–ª–∞ (–≥–æ—Ä–æ–¥ / –¢–¶ / –∞–¥—Ä–µ—Å)
3. –í–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ (–∫—Ä–∞—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫)
4. –í–≤–æ–¥ –æ–ø–∏—Å–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
5. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
6. –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
7. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –≤ Bitrix24

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Bitrix:**
- –ù–∞–∑–≤–∞–Ω–∏–µ: `[–§–∏–ª–∏–∞–ª] –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–¥–∞—á–∏`
- –û–ø–∏—Å–∞–Ω–∏–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ
- –ü—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ Bitrix Disk)
- TG_USER_ID –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∞–≤—Ç–æ—Ä–∞

### 2. –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞—á

**¬´–ú–æ–∏ –∑–∞–¥–∞—á–∏¬ª** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∏ –≤ —Ä–∞–±–æ—Ç–µ:
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –æ—Ç–¥–µ–ª–∞–º
- –í–Ω—É—Ç—Ä–∏ –æ—Ç–¥–µ–ª–∞ ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —ç—Ç–∞–ø–∞–º Kanban
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —ç—Ç–∞–ø–æ–≤: –ù–æ–≤–∞—è ‚Üí –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è ‚Üí –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ

**¬´–í—Å–µ –∑–∞–¥–∞—á–∏¬ª** ‚Äî –≤–∫–ª—é—á–∞–µ—Ç –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∏ –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã–µ:
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∞–ø—ã: –ó–∞–≤–µ—Ä—à–µ–Ω–∞, –û—Ç–º–µ–Ω–µ–Ω–∞

### 3. –û—Ç–º–µ–Ω–∞ –∑–∞–¥–∞—á–∏

- –î–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–¥–∞—á –≤ —Ä–∞–±–æ—Ç–µ
- –ù–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—É—é –∑–∞–¥–∞—á—É
- –ù–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å —É–∂–µ –æ—Ç–º–µ–Ω—ë–Ω–Ω—É—é –∑–∞–¥–∞—á—É
- –¢—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –∑–∞–¥–∞—á—É –Ω–∞ —ç—Ç–∞–ø ¬´–û—Ç–º–µ–Ω–µ–Ω–∞¬ª –≤ Kanban

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
borodach-franchise-bot/
‚îÇ
‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
‚îÇ
‚îú‚îÄ‚îÄ bot/                   # –ú–æ–¥—É–ª—å Telegram-–±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py       # –≠–∫—Å–ø–æ—Ä—Ç —Ä–æ—É—Ç–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ handlers.py       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ keyboards.py      # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (Reply)
‚îÇ   ‚îî‚îÄ‚îÄ utils.py          # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ bitrix/               # –ú–æ–¥—É–ª—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Bitrix24
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py      # –≠–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ client.py        # REST-–∫–ª–∏–µ–Ω—Ç –¥–ª—è Bitrix API
‚îÇ   ‚îî‚îÄ‚îÄ tasks.py         # –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –∑–∞–¥–∞—á–∞–º–∏
‚îÇ
‚îú‚îÄ‚îÄ config/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ settings.py      # –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ .env
‚îÇ
‚îú‚îÄ‚îÄ scripts/             # –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ run.sh          # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ stop.sh         # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ logs/               # –õ–æ–≥–∏ (–Ω–µ –≤ Git)
‚îÇ   ‚îî‚îÄ‚îÄ bot.log
‚îÇ
‚îî‚îÄ‚îÄ .github/
    ‚îî‚îÄ‚îÄ workflows/
        ‚îî‚îÄ‚îÄ deploy.yml  # CI/CD –¥–ª—è –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è
```

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- –î–æ—Å—Ç—É–ø –∫ Bitrix24 (webhook)
- Telegram Bot Token

### –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/VGUROV050/borodach-franchise-bot.git
cd borodach-franchise-bot

# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏ venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ .env
```

---

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Telegram
TELEGRAM_BOT_TOKEN=123456:ABC-DEF...

# Bitrix24 Webhook URL
BITRIX_WEBHOOK_URL=https://your-domain.bitrix24.ru/rest/1/abc123xyz/

# ID –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ Bitrix24 –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª–∞
BITRIX_GROUP_ID_DEVELOPMENT=123
BITRIX_GROUP_ID_MARKETING=124
BITRIX_GROUP_ID_DESIGN=125

# ID –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª–∞
BITRIX_RESPONSIBLE_DEVELOPMENT=1
BITRIX_RESPONSIBLE_MARKETING=2
BITRIX_RESPONSIBLE_DESIGN=3
```

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ì–¥–µ –≤–∑—è—Ç—å |
|------------|-----------|
| `TELEGRAM_BOT_TOKEN` | [@BotFather](https://t.me/BotFather) –≤ Telegram |
| `BITRIX_WEBHOOK_URL` | Bitrix24 ‚Üí –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí –í–µ–±—Ö—É–∫–∏ ‚Üí –°–æ–∑–¥–∞—Ç—å |
| `BITRIX_GROUP_ID_*` | URL –ø—Ä–æ–µ–∫—Ç–∞ –≤ Bitrix: `/workgroups/group/123/` ‚Üí ID = 123 |
| `BITRIX_RESPONSIBLE_*` | –ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ Bitrix: `/company/personal/user/1/` ‚Üí ID = 1 |

### –ü—Ä–∞–≤–∞ –≤–µ–±—Ö—É–∫–∞ Bitrix24

–í–µ–±—Ö—É–∫ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞:
- `task` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –∑–∞–¥–∞—á–∞–º–∏
- `disk` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

---

## üöÄ –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–æ

```bash
source venv/bin/activate
python main.py
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (Beget)

```bash
# –ó–∞–ø—É—Å–∫
bash scripts/run.sh

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
bash scripts/stop.sh

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f logs/bot.log
```

### –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π

–ü—Ä–∏ push –≤ `main` –≤–µ—Ç–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH
2. –î–µ–ª–∞–µ—Ç `git pull`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ GitHub Secrets:
- `BEGET_HOST` ‚Äî SSH —Ö–æ—Å—Ç
- `BEGET_USER` ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `BEGET_PASSWORD` ‚Äî –ø–∞—Ä–æ–ª—å

---

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Bitrix24

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã API

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `tasks.task.add` | –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ |
| `tasks.task.list` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á |
| `tasks.task.get` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ø–æ ID |
| `tasks.task.update` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ (—Å–º–µ–Ω–∞ —ç—Ç–∞–ø–∞) |
| `task.stages.get` | –ü–æ–ª—É—á–µ–Ω–∏–µ —ç—Ç–∞–ø–æ–≤ Kanban |
| `disk.storage.uploadfile` | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ |
| `tasks.task.files.attach` | –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∫ –∑–∞–¥–∞—á–µ |

### –≠—Ç–∞–ø—ã Kanban

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —ç—Ç–∞–ø–∞–º–∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ):

| –≠—Ç–∞–ø | Emoji | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-------|----------|
| –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞ | üÜï | –ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ |
| –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è | ‚è≥ | –ó–∞–¥–∞—á–∏ –≤ —Ä–∞–±–æ—Ç–µ |
| –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ | üëÄ | –û–∂–∏–¥–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ |
| –ó–∞–≤–µ—Ä—à–µ–Ω–∞ | ‚úÖ | –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ |
| –û—Ç–º–µ–Ω–µ–Ω–∞ | üö´ | –û—Ç–º–µ–Ω—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ |

**–í–∞–∂–Ω–æ:** –í –∫–∞–∂–¥–æ–º –ø—Ä–æ–µ–∫—Ç–µ Bitrix –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —ç—Ç–∞–ø ¬´–û—Ç–º–µ–Ω–µ–Ω–∞¬ª –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–º–µ–Ω—ã.

---

## üì± –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /start
–ë–æ—Ç: –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! [üÜï –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞] [üìã –ú–æ–∏ –∑–∞–¥–∞—á–∏]

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: üÜï –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞
–ë–æ—Ç: –í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–¥–µ–ª [üöÄ –†–∞–∑–≤–∏—Ç–∏–µ] [üì¢ –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥] [üé® –î–∏–∑–∞–π–Ω]

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: üöÄ –û—Ç–¥–µ–ª –†–∞–∑–≤–∏—Ç–∏—è
–ë–æ—Ç: –ü–æ –∫–∞–∫–æ–º—É —Ñ–∏–ª–∏–∞–ª—É –∑–∞–¥–∞—á–∞?

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ö–æ—Ä–æ–ª—ë–≤, –¢–¶ –Æ–±–∏–ª–µ–π–Ω—ã–π
–ë–æ—Ç: –í–≤–µ–¥–∏—Ç–µ –∫—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã –≤ —Ñ–∏–ª–∏–∞–ª–µ
–ë–æ—Ç: –û–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É –ø–æ–¥—Ä–æ–±–Ω–µ–µ

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–π—Å-–ª–∏—Å—Ç...
–ë–æ—Ç: –ü—Ä–µ–≤—å—é –∑–∞–¥–∞—á–∏... [üí¨ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π] [‚úÖ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å]

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ‚úÖ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
–ë–æ—Ç: –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª—ã? [üìé –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å] [‚è≠ –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ‚è≠ –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
–ë–æ—Ç: ‚úÖ –ó–∞–¥–∞—á–∞ #39802 —Å–æ–∑–¥–∞–Ω–∞! (26.11.2025 22:30)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞—á

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: üìã –ú–æ–∏ –∑–∞–¥–∞—á–∏
–ë–æ—Ç: 
üìã –í–∞—à–∏ –∑–∞–¥–∞—á–∏ –≤ —Ä–∞–±–æ—Ç–µ (3)

üöÄ –û—Ç–¥–µ–ª –†–∞–∑–≤–∏—Ç–∏—è
  üÜï –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞:
    ‚Ä¢ #39802 ‚Äî [–ö–æ—Ä–æ–ª—ë–≤] –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã ‚Ä¢ 26.11.2025 22:30
  ‚è≥ –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è:
    ‚Ä¢ #39788 ‚Äî [–ú–æ—Å–∫–≤–∞] –†–µ–º–æ–Ω—Ç –∫—Ä–µ—Å–ª–∞ ‚Ä¢ 26.11.2025 22:08

[‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–¥–∞—á—É] [üìã –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ] [üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é]
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û—Ç–º–µ–Ω–∞ –∑–∞–¥–∞—á–∏

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–¥–∞—á—É
–ë–æ—Ç: –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 39802)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: 39802
–ë–æ—Ç: ‚ö†Ô∏è –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –æ—Ç–º–µ–Ω—É –∑–∞–¥–∞—á–∏ #39802 ‚Äî [–ö–æ—Ä–æ–ª—ë–≤] –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã
     [‚úÖ –î–∞, –æ—Ç–º–µ–Ω–∏—Ç—å] [‚ùå –ù–µ—Ç]

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ‚úÖ –î–∞, –æ—Ç–º–µ–Ω–∏—Ç—å
–ë–æ—Ç: ‚úÖ –ó–∞–¥–∞—á–∞ #39802 –æ—Ç–º–µ–Ω–µ–Ω–∞
```

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|------------|
| –Ø–∑—ã–∫ | Python 3.11+ |
| Telegram | aiogram 3.x |
| HTTP-–∫–ª–∏–µ–Ω—Ç | httpx |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | python-dotenv |
| –•–æ—Å—Ç–∏–Ω–≥ | Beget VPS (Ubuntu) |

### FSM (Finite State Machine)

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç FSM –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞–º–∏:

**NewTaskStates:**
- `waiting_for_department` ‚Äî –≤—ã–±–æ—Ä –æ—Ç–¥–µ–ª–∞
- `waiting_for_branch` ‚Äî –≤–≤–æ–¥ —Ñ–∏–ª–∏–∞–ª–∞
- `waiting_for_title` ‚Äî –≤–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è
- `waiting_for_description` ‚Äî –≤–≤–æ–¥ –æ–ø–∏—Å–∞–Ω–∏—è
- `waiting_for_confirm` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- `waiting_for_comment` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- `waiting_for_files_choice` ‚Äî –≤—ã–±–æ—Ä –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- `waiting_for_files` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

**CancelTaskStates:**
- `waiting_for_task_id` ‚Äî –≤–≤–æ–¥ –Ω–æ–º–µ—Ä–∞ –∑–∞–¥–∞—á–∏
- `waiting_for_confirm` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–º–µ–Ω—ã

### –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ó–∞–¥–∞—á–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á–µ—Ä–µ–∑ `TG_USER_ID` –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏:
```
TG_USER_ID: 123456789
```

–ü—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –∑–∞–¥–∞—á –±–æ—Ç —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ —ç—Ç–æ–º—É –ø–æ–ª—é.

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–≠—Ç–∞–ø—ã Kanban –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Bitrix:
```python
_stages_cache: dict[str, dict[str, str]] = {}
```

---

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `logs/bot.log`:
- –ó–∞–ø—Ä–æ—Å—ã –∫ Bitrix API
- –°–æ–∑–¥–∞–Ω–∏–µ/–æ—Ç–º–µ–Ω–∞ –∑–∞–¥–∞—á
- –û—à–∏–±–∫–∏

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
tail -f logs/bot.log
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –æ–±–Ω–æ–≤–ª—è–π—Ç–µ:
1. –†–∞–∑–¥–µ–ª ¬´–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞¬ª
2. –†–∞–∑–¥–µ–ª ¬´–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è¬ª
3. –†–∞–∑–¥–µ–ª ¬´–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏¬ª (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

**–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:** [VGUROV050](https://github.com/VGUROV050)

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 26.11.2025*

